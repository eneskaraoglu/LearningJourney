/**
 * Testing Node APIs (Vitest + Supertest) - Extended Exercises
 *
 * Goal: Build production-style habits while practicing module concepts.
 * Rule: Complete tasks in order. Do not open 03-solutions.js until done.
 */

// Part A - Unit Tests
// 1. Write tests for pure utility function `calculateInvoiceTotal(items, taxRate)`.
// 2. Cover normal case, empty list, and invalid negative values.
// 3. Use clear test names with arrange-act-assert structure.

// Part B - Integration Tests
// 1. Create Express app with `GET /ping` and `POST /items`.
// 2. Write Supertest for success and validation failure paths.
// 3. Assert status code and response body fields.

// Part C - Test Reliability
// 1. Reset mutable in-memory state in `beforeEach`.
// 2. Avoid dependence on test execution order.
// 3. Add one test that reproduces a bug and then fix code to pass.

// Constraints
// - Use clear function names and small functions.
// - Add explicit input validation where relevant.
// - Keep error messages user-friendly and debuggable.

// Acceptance Criteria
// - Tests are deterministic and pass repeatedly.
// - Negative paths are covered, not only happy paths.
// - Test failure output is easy to understand.

// Bonus Challenge
// - Add coverage report target and reach at least 80% on core module.
// - Mock external service call and assert fallback behavior.

// Reflection Prompts
// 1. Which part was hardest and why?
// 2. What bug did you hit and how did you debug it?
// 3. What would you refactor before shipping this?

// TODO: Implement your solution below.
